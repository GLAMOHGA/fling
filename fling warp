local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local RunService = game:GetService("RunService")
local SoundService = game:GetService("SoundService")
local TweenService = game:GetService("TweenService")

-- Функция для воспроизведения звука кнопки
local function PlayClickSound()
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxassetid://5852470908"
    sound.Volume = 2.2
    sound.Parent = SoundService
    sound:Play()
    sound.Ended:Connect(function()
        sound:Destroy()
    end)
end

-- Создание GUI
local GUI = Instance.new("ScreenGui")
GUI.Name = "by https://t.me/vomagla"
GUI.Parent = Player.PlayerGui

-- Главный фрейм
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 200)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
MainFrame.BackgroundTransparency = 0.59
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.Visible = false
MainFrame.Parent = GUI

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 20)
UICorner.Parent = MainFrame

-- Внешний контур
local OutlineFrame = Instance.new("Frame")
OutlineFrame.Size = UDim2.new(1, 8, 1, 8)
OutlineFrame.Position = UDim2.new(0, -4, 0, -4)
OutlineFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 255)
OutlineFrame.BorderSizePixel = 0
OutlineFrame.BackgroundTransparency = 0.59
OutlineFrame.Parent = MainFrame
OutlineFrame.ZIndex = MainFrame.ZIndex - 1

local OutlineCorner = Instance.new("UICorner")
OutlineCorner.CornerRadius = UDim.new(0, 20)
OutlineCorner.Parent = OutlineFrame

-- Заголовок
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, 0, 0, 50)
TitleLabel.BackgroundTransparency = 1
TitleLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
TitleLabel.TextScaled = true
TitleLabel.Text = "by https://t.me/vomagla"
TitleLabel.Parent = MainFrame

-- Поле ввода
local InputBox = Instance.new("TextBox")
InputBox.Size = UDim2.new(1, -20, 0, 50)
InputBox.Position = UDim2.new(0, 10, 0, 60)
InputBox.BackgroundTransparency = 0.59
InputBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
InputBox.TextColor3 = Color3.fromRGB(200, 200, 200)
InputBox.PlaceholderColor3 = Color3.fromRGB(200, 200, 200)
InputBox.PlaceholderText = "Введите ник или 'all'"
InputBox.Parent = MainFrame

-- Кнопка "Флинг"
local Button = Instance.new("TextButton")
Button.Size = UDim2.new(1, -20, 0, 50)
Button.Position = UDim2.new(0, 10, 0, 120)
Button.BackgroundTransparency = 0.59
Button.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Button.TextColor3 = Color3.fromRGB(200, 200, 200)
Button.TextScaled = true
Button.Text = "Флинг"
Button.Parent = MainFrame

local ButtonCorner = Instance.new("UICorner")
ButtonCorner.CornerRadius = UDim.new(0, 10)
ButtonCorner.Parent = Button

-- Кнопка "Открыть"
local OpenButton = Instance.new("TextButton")
OpenButton.Size = UDim2.new(0, 100, 0, 30)
OpenButton.Position = UDim2.new(0.5, -50, -0.1)
OpenButton.BackgroundTransparency = 0.59
OpenButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
OpenButton.TextColor3 = Color3.fromRGB(200, 200, 200)
OpenButton.TextScaled = true
OpenButton.Text = "Открыть"
OpenButton.Parent = GUI

local OpenCorner = Instance.new("UICorner")
OpenCorner.CornerRadius = UDim.new(0, 10)
OpenCorner.Parent = OpenButton

-- Кнопка "Закрыть"
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 100, 0, 30)
CloseButton.Position = UDim2.new(0.5, 50, -0.1)
CloseButton.BackgroundTransparency = 0.59
CloseButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
CloseButton.TextColor3 = Color3.fromRGB(200, 200, 200)
CloseButton.TextScaled = true
CloseButton.Text = "Закрыть"
CloseButton.Parent = GUI

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 10)
CloseCorner.Parent = CloseButton

-- Окно ошибки (правый нижний угол)
local ErrorFrame = Instance.new("Frame")
ErrorFrame.Size = UDim2.new(0, 250, 0, 100)
ErrorFrame.Position = UDim2.new(1, 250, 1, -110) -- Начальная позиция справа за экраном
ErrorFrame.BackgroundTransparency = 0.59
ErrorFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ErrorFrame.Visible = false
ErrorFrame.Parent = GUI

local ErrorCorner = Instance.new("UICorner")
ErrorCorner.CornerRadius = UDim.new(0, 20)
ErrorCorner.Parent = ErrorFrame

local ErrorOutline = Instance.new("Frame")
ErrorOutline.Size = UDim2.new(1, 8, 1, 8)
ErrorOutline.Position = UDim2.new(0, -4, 0, -4)
ErrorOutline.BackgroundColor3 = Color3.fromRGB(0, 0, 255)
ErrorOutline.BorderSizePixel = 0
ErrorOutline.BackgroundTransparency = 0.59
ErrorOutline.Parent = ErrorFrame
ErrorOutline.ZIndex = ErrorFrame.ZIndex - 1

local ErrorOutlineCorner = Instance.new("UICorner")
ErrorOutlineCorner.CornerRadius = UDim.new(0, 20)
ErrorOutlineCorner.Parent = ErrorOutline

local ErrorLabel = Instance.new("TextLabel")
ErrorLabel.Size = UDim2.new(1, -20, 1, -20)
ErrorLabel.Position = UDim2.new(0, 10, 0, 10)
ErrorLabel.BackgroundTransparency = 1
ErrorLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
ErrorLabel.TextScaled = true
ErrorLabel.TextWrapped = true
ErrorLabel.Text = ""
ErrorLabel.Parent = ErrorFrame

-- Анимация появления ошибки справа снизу
local function AnimateErrorIn()
    ErrorFrame.Position = UDim2.new(1, 250, 1, -110)
    ErrorFrame.Visible = true
    local tweenInfo = TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local goal = {Position = UDim2.new(1, -260, 1, -110)}
    local tween = TweenService:Create(ErrorFrame, tweenInfo, goal)
    tween:Play()
end

-- Анимация скрытия ошибки вправо за экран
local function AnimateErrorOut()
    local tweenInfo = TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.In)
    local goal = {Position = UDim2.new(1, 250, 1, -110)}
    local tween = TweenService:Create(ErrorFrame, tweenInfo, goal)
    tween:Play()
    tween.Completed:Connect(function()
        ErrorFrame.Visible = false
    end)
end

-- Функция показа сообщения с анимацией
local function Message(_Title, _Text, Time)
    ErrorLabel.Text = _Title.."\n".._Text
    AnimateErrorIn()
    task.delay(Time or 5, AnimateErrorOut)
end

-- Функции и переменные для работы скрипта (GetPlayer, SkidFling, обработка кнопок)
-- ... (вставьте сюда ваш существующий код функций и логики)

-- Обработка кнопок с проигрыванием звука и вызовом Message
OpenButton.MouseButton1Click:Connect(function()
    PlayClickSound()
    MainFrame.Visible = true
end)

CloseButton.MouseButton1Click:Connect(function()
    PlayClickSound()
    MainFrame.Visible = false
end)

Button.MouseButton1Click:Connect(function()
    PlayClickSound()
    local InputText = InputBox.Text:lower()
    if InputText == "all" then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= Player then
                -- Вызов вашей функции SkidFling(player)
            end
        end
    else
        local TargetPlayer = GetPlayer(InputText)
        if TargetPlayer then
            -- Вызов вашей функции SkidFling(TargetPlayer)
        else
            Message("Ошибка", "Игрок не найден", 5)
        end
    end
end)

if not getgenv().Welcome then Message("Script by https://t.me/vomagla", "nonka!", 5) end
getgenv().Welcome = true

-- Переливание цветов меню
local bgColors = {
    Color3.fromRGB(30, 30, 30),    -- тёмно-серый
    Color3.fromRGB(0, 0, 0),       -- чёрный
    Color3.fromRGB(200, 200, 200), -- светло-серый
    Color3.fromRGB(255, 182, 193), -- бледно-розовый
}

local textColors = {
    Color3.fromRGB(200, 200, 200),
    Color3.fromRGB(255, 182, 193),
    Color3.fromRGB(30, 30, 30),
    Color3.fromRGB(0, 0, 0),
}

local outlineColors = {
    Color3.fromRGB(0, 0, 255),
    Color3.fromRGB(255, 255, 255),
    Color3.fromRGB(255, 105, 180),
}

local bgIndex, bgNextIndex = 1, 2
local bgLerpAlpha = 0
local bgLerpSpeed = 0.001

local textIndex, textNextIndex = 1, 2
local textLerpAlpha = 0
local textLerpSpeed = 0.001

local outlineIndex, outlineNextIndex = 1, 2
local outlineLerpAlpha = 0
local outlineLerpSpeed = 0.005

local function LerpColor(a, b, t)
    return Color3.new(
        a.R + (b.R - a.R) * t,
        a.G + (b.G - a.G) * t,
        a.B + (b.B - a.B) * t
    )
end

RunService.RenderStepped:Connect(function()
    -- Фон
    bgLerpAlpha = bgLerpAlpha + bgLerpSpeed
    if bgLerpAlpha >= 1 then
        bgLerpAlpha = 0
        bgIndex = bgNextIndex
        bgNextIndex = bgNextIndex + 1
        if bgNextIndex > #bgColors then bgNextIndex = 1 end
    end
    local currentBg = LerpColor(bgColors[bgIndex], bgColors[bgNextIndex], bgLerpAlpha)
    MainFrame.BackgroundColor3 = currentBg
    InputBox.BackgroundColor3 = currentBg
    Button.BackgroundColor3 = currentBg
    OpenButton.BackgroundColor3 = currentBg
    CloseButton.BackgroundColor3 = currentBg
    ErrorFrame.BackgroundColor3 = currentBg

    -- Текст
    textLerpAlpha = textLerpAlpha + textLerpSpeed
    if textLerpAlpha >= 1 then
        textLerpAlpha = 0
        textIndex = textNextIndex
        textNextIndex = textNextIndex + 1
        if textNextIndex > #textColors then textNextIndex = 1 end
    end
    local currentText = LerpColor(textColors[textIndex], textColors[textNextIndex], textLerpAlpha)
    TitleLabel.TextColor3 = currentText
    InputBox.TextColor3 = currentText
    InputBox.PlaceholderColor3 = currentText
    Button.TextColor3 = currentText
    OpenButton.TextColor3 = currentText
    CloseButton.TextColor3 = currentText
    ErrorLabel.TextColor3 = currentText

    -- Контур
    outlineLerpAlpha = outlineLerpAlpha + outlineLerpSpeed
    if outlineLerpAlpha >= 1 then
        outlineLerpAlpha = 0
        outlineIndex = outlineNextIndex
        outlineNextIndex = outlineNextIndex + 1
        if outlineNextIndex > #outlineColors then outlineNextIndex = 1 end
    end
    local currentOutline = LerpColor(outlineColors[outlineIndex], outlineColors[outlineNextIndex], outlineLerpAlpha)
    OutlineFrame.BackgroundColor3 = currentOutline
    ErrorOutline.BackgroundColor3 = currentOutline
end)
